{"version":3,"sources":["webpack:///./src/components/Fields/FieldReference.vue?d94b","webpack:///src/components/Fields/FieldReference.vue","webpack:///./src/components/Fields/FieldReference.vue?ee06","webpack:///./src/components/Fields/FieldReference.vue","webpack:///./src/views/Media.vue?718a","webpack:///./src/components/Fields/FieldUpload.vue?e921","webpack:///src/components/Fields/FieldUpload.vue","webpack:///./src/components/Fields/FieldUpload.vue?ffa7","webpack:///./src/components/Fields/FieldUpload.vue","webpack:///src/views/Media.vue","webpack:///./src/views/Media.vue?3fb8","webpack:///./src/views/Media.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","$t","isRequired","model","value","callback","$$v","$set","expression","staticRenderFns","props","Boolean","type","Object","required","watch","$emit","component","staticClass","_v","on","$event","showAddModal","_m","media","_l","showmedia","index","key","id","_s","reference","image_thumb","uploaded_by","showEditModal","showDeleteModal","_e","isModalVisible","staticStyle","closeModal","isAddModal","isEditModal","errors","length","error","my_media","addMedia","updateMedia","deleteMedia","file_upload","name","components","FieldReference","FieldUpload","data","isDeleteModal","mounted","getMedia","methods","$http","get","mymedia","append","post","put","delete","mymediaid"],"mappings":"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","file":"js/media.164e731e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('referenceLabel')}},[_c('b-input',{attrs:{\"name\":\"reference\",\"id\":\"reference\",\"required\":_vm.isRequired,\"icon\":\"info\",\"placeholder\":\"For your reference - this text is not displayed to client\",\"validation-message\":\"Please enter a valid reference - only dssfdsfd is allowed\",\"pattern\":\"[A-Za-z0-9\\\\s.,?()]*\"},model:{value:(_vm.value.reference),callback:function ($$v) {_vm.$set(_vm.value, \"reference\", $$v)},expression:\"value.reference\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-field horizontal :label=\"$t('referenceLabel')\">\r\n    <b-input\r\n      name=\"reference\"\r\n      id=\"reference\"\r\n      v-model=\"value.reference\"\r\n      v-bind:required=\"isRequired\"\r\n      icon=\"info\"\r\n      placeholder=\"For your reference - this text is not displayed to client\"\r\n      validation-message=\"Please enter a valid reference - only dssfdsfd is allowed\"\r\n      pattern=\"[A-Za-z0-9\\s.,?()]*\">\r\n    </b-input>\r\n  </b-field>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    isRequired: Boolean,\r\n    value: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  watch: {\r\n    value () {\r\n      this.$emit('input', this.value)\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldReference.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldReference.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FieldReference.vue?vue&type=template&id=3a86c502&\"\nimport script from \"./FieldReference.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldReference.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"medication\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-10 is-offset-1\"},[_c('div',{staticClass:\"box\"},[_c('div',[_c('h1',[_vm._v(\" Media \"),_c('a',{staticClass:\"button is-primary is-medium is-pulled-right\",on:{\"click\":function($event){return _vm.showAddModal()}}},[_vm._m(0),_c('span',[_vm._v(\"Add New Media\")])])])]),(_vm.media.length)?_c('table',{staticClass:\"table is-hoverable is-fullwidth is-striped\"},[_vm._m(1),_c('tbody',_vm._l((_vm.media),function(showmedia,index){return _c('tr',{key:showmedia.id},[_c('td',[_vm._v(_vm._s(showmedia.reference)+\" \")]),_c('td',[_c('img',{attrs:{\"src\":showmedia.image_thumb}})]),_c('td',[_vm._v(_vm._s(showmedia.uploaded_by)+\" \")]),_c('td',[_c('div',{staticClass:\"buttons\"},[_c('b-button',{attrs:{\"type\":\"is-success\",\"icon-left\":\"edit\",\"title\":\"Edit\"},on:{\"click\":function($event){return _vm.showEditModal(index)}}}),_c('b-button',{attrs:{\"type\":\"is-danger\",\"icon-left\":\"trash\",\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.showDeleteModal(index)}}})],1)])])}),0)]):_vm._e()])]),_vm._v(\" \"),_c('b-modal',{attrs:{\"scroll\":\"keep\",\"can-cancel\":false},model:{value:(_vm.isModalVisible),callback:function ($$v) {_vm.isModalVisible=$$v},expression:\"isModalVisible\"}},[_c('div',{staticClass:\"modal-card\",staticStyle:{\"width\":\"auto\"}},[_c('header',{staticClass:\"modal-card-head\"},[(_vm.isAddModal)?_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\"Upload New Media\")]):_vm._e(),(_vm.isEditModal)?_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\"Edit Media\")]):_vm._e(),(_vm.isDeleteModal)?_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\"Delete Media\")]):_vm._e(),_c('button',{staticClass:\"delete\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){return _vm.closeModal()}}})]),(_vm.isDeleteModal)?_c('section',{staticClass:\"modal-card-body\"},[_c('p',[_vm._v(\"Are you sure you want to delete this media?\")])]):_vm._e(),((_vm.isAddModal || _vm.isEditModal))?_c('section',{staticClass:\"modal-card-body\"},[(_vm.errors.length > 0)?_c('div',{staticClass:\"message is-danger\"},[_c('div',{staticClass:\"message-body\"},[_c('ul',_vm._l((_vm.errors),function(error){return _c('li',{key:error.id},[_vm._v(_vm._s(error))])}),0)])]):_vm._e(),_c('field-reference',{model:{value:(_vm.my_media),callback:function ($$v) {_vm.my_media=$$v},expression:\"my_media\"}}),_c('field-upload',{attrs:{\"is-required\":\"\"},model:{value:(_vm.my_media),callback:function ($$v) {_vm.my_media=$$v},expression:\"my_media\"}})],1):_vm._e(),_c('footer',{staticClass:\"modal-card-foot\"},[(_vm.isAddModal)?_c('button',{staticClass:\"button is-success\",on:{\"click\":_vm.addMedia}},[_vm._v(\"Add Media\")]):_vm._e(),(_vm.isEditModal)?_c('button',{staticClass:\"button is-success\",on:{\"click\":_vm.updateMedia}},[_vm._v(\"Save Changes\")]):_vm._e(),(_vm.isDeleteModal)?_c('button',{staticClass:\"button is-danger\",on:{\"click\":_vm.deleteMedia}},[_vm._v(\"Delete Media\")]):_vm._e(),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\"Cancel\")])])])])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-medium\"},[_c('i',{staticClass:\"fa fa-plus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Reference\")]),_c('th',[_vm._v(\"Thumbnail\")]),_c('th',[_vm._v(\"Uploaded by\")]),_c('th',[_vm._v(\"Actions\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{attrs:{\"horizontal\":\"\",\"label\":_vm.$t('fileLabel')}},[_c('b-field',{staticClass:\"file\"},[_c('b-upload',{staticClass:\"file-label\",attrs:{\"name\":\"file_upload\",\"id\":\"file_upload\",\"expanded\":\"\",\"required\":_vm.isRequired},model:{value:(_vm.value.file_upload),callback:function ($$v) {_vm.$set(_vm.value, \"file_upload\", $$v)},expression:\"value.file_upload\"}},[_c('a',{staticClass:\"button is-primary is-fullwidth\"},[_c('b-icon',{staticClass:\"file-icon\",attrs:{\"icon\":\"upload\"}}),_c('span',[_vm._v(\" \"+_vm._s(_vm.value.file_upload ? _vm.value.file_upload.name : \"Click to upload\")+\" \")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-field horizontal :label=\"$t('fileLabel')\">\r\n    <b-field class=\"file\">\r\n      <b-upload\r\n        name=\"file_upload\"\r\n        id=\"file_upload\"\r\n        class=\"file-label\"\r\n        v-model=\"value.file_upload\"\r\n        expanded\r\n        v-bind:required=\"isRequired\">\r\n          <a class=\"button is-primary is-fullwidth\">\r\n            <b-icon class=\"file-icon\" icon=\"upload\"></b-icon>\r\n            <span>\r\n              {{ value.file_upload ? value.file_upload.name : \"Click to upload\" }}\r\n            </span>\r\n          </a>\r\n        </b-upload>\r\n      </b-field>\r\n    </b-field>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    isRequired: Boolean,\r\n    value: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  watch: {\r\n    value () {\r\n      this.$emit('input', this.value)\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FieldUpload.vue?vue&type=template&id=e3d9ff72&\"\nimport script from \"./FieldUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldUpload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"medication\">\r\n\r\n    <div class=\"columns\">\r\n      <div class=\"column is-10 is-offset-1\">\r\n        <div class=\"box\">\r\n          <div>\r\n            <h1>\r\n              Media\r\n              <a class=\"button is-primary is-medium is-pulled-right\" @click=\"showAddModal()\">\r\n                <span class=\"icon is-medium\">\r\n                  <i class=\"fa fa-plus\"></i>\r\n                </span>\r\n                <span>Add New Media</span>\r\n              </a>\r\n            </h1>\r\n          </div>\r\n\r\n          <!-- Show Uploaded Media -->\r\n          <table v-if=\"media.length\" class=\"table is-hoverable is-fullwidth is-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th>Reference</th>\r\n                <th>Thumbnail</th>\r\n                <th>Uploaded by</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(showmedia, index) in media\" :key=\"showmedia.id\">\r\n                <td>{{ showmedia.reference }} </td>\r\n                <td><img v-bind:src=\"showmedia.image_thumb\" /></td>\r\n                <td>{{ showmedia.uploaded_by }} </td>\r\n                <td>\r\n                  <div class=\"buttons\">\r\n                  <b-button type=\"is-success\" icon-left=\"edit\" @click=\"showEditModal(index)\" title=\"Edit\" ></b-button>\r\n                  <b-button type=\"is-danger\" icon-left=\"trash\" @click=\"showDeleteModal(index)\" title=\"Delete\"></b-button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n        </div>\r\n      </div> <!-- end Uploaded media list -->\r\n\r\n      <!-- Modal to Add Media -->\r\n      <b-modal v-model=\"isModalVisible\" scroll=\"keep\" :can-cancel=\"false\">\r\n        <div class=\"modal-card\" style=\"width:auto\">\r\n          <header class=\"modal-card-head\">\r\n            <p v-if=\"isAddModal\" class=\"modal-card-title\">Upload New Media</p>\r\n            <p v-if=\"isEditModal\" class=\"modal-card-title\">Edit Media</p>\r\n            <p v-if=\"isDeleteModal\" class=\"modal-card-title\">Delete Media</p>\r\n            <button class=\"delete\" aria-label=\"close\" @click=\"closeModal()\"></button>\r\n          </header>\r\n          <section v-if=\"isDeleteModal\" class=\"modal-card-body\">\r\n            <p>Are you sure you want to delete this media?</p>\r\n          </section>\r\n          <section v-if=\"(isAddModal || isEditModal)\" class=\"modal-card-body\">\r\n            <!-- show errors -->\r\n            <div v-if=\"errors.length > 0\" class=\"message is-danger\">\r\n              <div class=\"message-body\">\r\n                <ul>\r\n                  <li v-for=\"error in errors\" :key=\"error.id\">{{ error }}</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- show form -->\r\n            <field-reference v-model=\"my_media\" />\r\n\r\n            <field-upload v-model=\"my_media\" is-required />\r\n\r\n          </section>\r\n\r\n          <footer class=\"modal-card-foot\">\r\n            <button v-if=\"isAddModal\" class=\"button is-success\" @click=\"addMedia\">Add Media</button>\r\n            <button v-if=\"isEditModal\" class=\"button is-success\" @click=\"updateMedia\">Save Changes</button>\r\n            <button v-if=\"isDeleteModal\" class=\"button is-danger\" @click=\"deleteMedia\">Delete Media</button>\r\n            <button class=\"button\" @click=\"closeModal()\">Cancel</button>\r\n          </footer>\r\n        </div>\r\n       </b-modal><!-- end addMediaModal -->\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport FieldReference from '@/components/Fields/FieldReference.vue'\r\nimport FieldUpload from '@/components/Fields/FieldUpload.vue'\r\n\r\nexport default {\r\n\r\n  components: {\r\n    FieldReference,\r\n    FieldUpload\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      media: [],\r\n      my_media: {},\r\n      errors: [],\r\n      isModalVisible: false,\r\n      isAddModal: false,\r\n      isEditModal: false,\r\n      isDeleteModal: false\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.getMedia()\r\n  },\r\n\r\n  methods: {\r\n\r\n    closeModal () {\r\n      this.my_media.id = null\r\n      this.my_media.reference = ''\r\n      this.my_media.uploaded_by = ''\r\n      this.my_media.file_upload = null\r\n      this.isModalVisible = false\r\n      this.isAddModal = false\r\n      this.isEditModal = false\r\n      this.isDeleteModal = false\r\n    },\r\n\r\n    showAddModal () {\r\n      this.isAddModal = true\r\n      this.isModalVisible = true\r\n    },\r\n\r\n    showEditModal (index) {\r\n      this.my_media.id = this.media[index].id\r\n      this.my_media.reference = this.media[index].reference\r\n      this.my_media.uploaded_by = this.media[index].uploaded_by\r\n      this.isEditModal = true\r\n      this.isModalVisible = true\r\n    },\r\n\r\n    showDeleteModal (index) {\r\n      this.my_media.id = this.media[index].id\r\n      this.isDeleteModal = true\r\n      this.isModalVisible = true\r\n    },\r\n\r\n    // Get Scheduled Medications\r\n    getMedia () {\r\n      this.$http.get('uploads')\r\n        .then(response => {\r\n          this.media = response.data\r\n        })\r\n    },\r\n\r\n    addMedia () {\r\n      const mymedia = new FormData()\r\n      mymedia.append('reference', this.my_media.reference)\r\n      mymedia.append('file_upload', this.my_media.file_upload)\r\n      this.$http.post('uploads', mymedia,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log(response.data)\r\n          this.closeModal()\r\n          this.getMedia()\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error)\r\n        })\r\n    },\r\n\r\n    updateMedia () {\r\n      const mymedia = this.my_media\r\n      this.$http.put('uploads/' + mymedia.id, mymedia)\r\n        .then(response => {\r\n          console.log(response.data)\r\n          this.closeModal()\r\n          this.getMedia()\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error)\r\n        })\r\n    },\r\n\r\n    deleteMedia () {\r\n      const mymediaid = this.my_media.id\r\n      this.$http.delete('uploads/' + mymediaid)\r\n        .then(response => {\r\n          console.log(response.data)\r\n          this.closeModal()\r\n          this.getMedia()\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error)\r\n        })\r\n    }\r\n\r\n  } // end methods\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Media.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Media.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Media.vue?vue&type=template&id=4c9954f4&\"\nimport script from \"./Media.vue?vue&type=script&lang=js&\"\nexport * from \"./Media.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}